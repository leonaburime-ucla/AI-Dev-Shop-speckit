---
name: conventions
version: 1.0.0
last_updated: 2026-02-24
description: Output root, spec folder structure, and reports folder structure for all pipeline artifacts.
---

# Conventions

## Output Root

All pipeline artifacts are written under `<SHOP_ROOT>` — the AI-Dev-Shop-speckit folder itself (default: `<SHOP_ROOT>/`).

**Writable subdirectories:** `specs/`, `reports/`, `project-knowledge/` — these are the project workspace.
**Read-only subdirectories:** `agents/`, `skills/`, `templates/`, `workflows/` — these are toolkit source files. Never modify them.

---

## Spec Folder Convention

All spec artifacts for a feature live in a single folder:

```
<SHOP_ROOT>/specs/<NNN>-<feature-name>/
  feature.spec.md          (canonical spec — use templates/spec-system/feature.spec.md)
  api.spec.ts              (typed API contracts)
  state.spec.ts            (state shapes and transitions)
  orchestrator.spec.ts     (orchestrator output model)
  ui.spec.ts               (UI component contracts)
  errors.spec.ts           (error code registry)
  behavior.spec.md         (deterministic behavior rules)
  traceability.spec.md     (REQ-to-function-to-test matrix)
  adr.md                   (architecture decision record)
  research.md              (if produced)
  tasks.md
  test-certification.md
  red-team-findings.md     (optional — kept for audit trail)
  checklists/
    spec-dod.md            (DoD checklist — must pass before Architect dispatch)
    requirements.md        (spec quality checklist, generated by Spec Agent)
  .pipeline-state.md
```

`<NNN>` is a zero-padded three-digit FEAT number (001, 002, ...). `<feature-name>` is 2–4 words, lowercase-hyphenated. Example: `specs/003-csv-invoice-export/`. Scan existing folders for the next available number — never reuse.

---

## Reports Folder Convention

All agent reports live under a single centralized folder. This is the single source of truth for everything agents produce outside of spec artifacts.

```
<SHOP_ROOT>/reports/
  codebase-analysis/
    ANALYSIS-<id>-<YYYY-MM-DD>.md     (CodeBase Analyzer — findings report)
    MIGRATION-<id>-<YYYY-MM-DD>.md    (CodeBase Analyzer — migration plan, if requested)
  test-runs/
    TESTRUN-<feature-id>-<YYYY-MM-DD-HHmm>.md  (TestRunner — one file per run, never overwritten)
  security/
    SEC-<feature-id>-<YYYY-MM-DD>.md  (Security Agent — threat findings)
  code-review/
    CR-<feature-id>-<YYYY-MM-DD>.md   (Code Review Agent — findings)
  observer/
    timeline-CYCLE-<NNN>.md           (Observer — per-cycle timeline log)
    pattern-report-<YYYY-WNN>.md      (Observer — weekly pattern report)
```

**Rules:**
- All agents write reports here — do not scatter report files elsewhere
- Test run reports are timestamped and never overwritten — each run is a separate audit artifact
- The Programmer reads test state by running tests fresh, not by reading reports — reports are audit trail only
- Spec artifacts (feature.spec.md, adr.md, tasks.md, test-certification.md, red-team-findings.md) live in `specs/<NNN>-<feature-name>/`, not in reports/
